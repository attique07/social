import{_ as P,G as H,H as R,B as z,A as M,h as Y,y as G,z as q,Z as K,L as J,I as W,J as V,m as C,K as Z,M as O,P as Q,r as d,o as r,g as y,w as p,u as X,l as $,c as i,a as e,t as o,b as l,e as u,F as w,v as k,d as f,E as ee,x as se}from"../../assets/app-73d10358.js";import{g as te,s as oe,a as ae}from"./ads-aeb8624d.js";import{s as ne}from"./autocomplete.esm-ddce204a.js";import{B as le}from"./BaseSelectLocation-e9b64171.js";import{I as re}from"./InfoTooltip-8f5d55f2.js";import{B as ie}from"./BaseRadio-888a0fc0.js";import{B as de}from"./BaseCalendar-0db4a3ac.js";import"./index.esm-4d5906a6.js";const ce={props:["id"],components:{FullColumn:H,AutoComplete:ne,BaseInputText:R,BaseSelectLocation:le,BaseIcon:z,Avatar:M,UserName:Y,InfoTooltip:re,BaseButton:G,BaseRadio:ie,BaseCalendar:de,VueperSlides:q,VueperSlide:K,LinkFetched:J,ContentHtml:W},data(){return{ageTypeAny:V.AGE_TYPE.ANY,ageTypeRange:V.AGE_TYPE.RANGE,adsConfig:null,postInfo:null,postType:"text",postMedias:[],postSharedLink:null,postUploadedVideo:null,postUploadedFiles:[],hashtags:[],hashtagsList:[],location:{country_id:null,state_id:null,city_id:null,zip_code:null,address:null,address_full:null},error:{name:null,daily_amount:null,start:null,end:null,age_from:null,age_to:null},adsName:null,selectedAge:V.AGE_TYPE.ANY,postAgeFrom:null,postAgeTo:null,genderId:0,postStartDate:0,postEndDate:0,postAmount:0}},computed:{...C(X,["user"]),...C($,["config"]),baseUrl(){return window.siteConfig.siteUrl}},watch:{selectedAge(){switch(this.selectedAge){case this.ageTypeAny:this.adsAgeFrom=this.adsAgeTo=null;break}}},mounted(){if(!this.config.advertising.enable)return this.$router.push({name:"permission"});this.getAdvertisingConfig(),this.getPostDetail(this.id)},methods:{async getAdvertisingConfig(){try{const s=await te();this.adsConfig=s}catch(s){this.showError(s.error)}},async getPostDetail(s){try{const a=await Z(s);switch(this.postInfo=a,this.postType=this.postInfo.type,this.postType){case"photo":this.postMedias=this.postInfo.items;break;case"link":this.postSharedLink=this.postInfo.items[0];break;case"video":this.postUploadedVideo=this.postInfo.items[0];break;case"file":this.postUploadedFiles=this.postInfo.items;break}}catch(a){this.showError(a.error)}},async suggestHashtagsList(s){try{const a=await O(s.query,1);this.hashtagsList=a}catch{this.hashtagsList=[]}},async boostPost(){let s=null;this.postMedias.length>0?s=this.postMedias.map(m=>m.id):this.postSharedLink?s=[this.postSharedLink.id]:this.postUploadedVideo?s=[this.postUploadedVideo.id]:this.postUploadedFiles.length&&(s=this.postUploadedFiles.map(m=>m.id));let a={id:this.id,content:this.postInfo.content,type:this.postType,items:s,name:this.adsName,country_id:this.location.country_id,state_id:this.location.state_id,city_id:this.location.city_id,zip_code:this.location.zip_code,hashtags:this.hashtags.map(m=>m.name),gender_id:this.genderId,daily_amount:this.postAmount,age_type:this.selectedAge,age_from:this.postAgeFrom,age_to:this.postAgeTo,start:this.formatDateTime(this.postStartDate),end:this.formatDateTime(this.postEndDate)};try{await oe(a),this.resetErrors(this.error);const m=this.$dialog.open(Q,{props:{header:this.$t("Enter Password"),class:"password-modal",modal:!0,dismissableMask:!0,draggable:!1},emits:{onConfirm:async A=>{if(A.password)try{a.password=A.password,await ae(a),this.showSuccess(this.$t("Thank you, your payment has been processed and your ad is scheduled to run now. You can manage all your ads in the ads section.")),this.$router.push({name:"advertisings"}),m.close()}catch(t){this.handleApiErrors(this.error,t),m.close()}}}})}catch(m){this.handleApiErrors(this.error,m)}},getHelpTextHashTag(){return this.$filters.textTranslate(this.config.siteName,this.$t("Keyword targeting allows you to reach people on %s based on keywords in their search queries, recent posts, and posts they recently engaged with. This targeting option puts you in the best position to reach the most relevant people, drive engagements, and increase conversions."))},getHelpTextLocation(){return this.$filters.textTranslate(this.config.siteName,this.$t("Advertisers can target their campaigns to specific geographies: countries, regions, metros, cities, postal codes. %s geo targeting is based on location info inside member's profile."))},getHelpTextDateRange(){return this.$t("Choose how long you want your campaign to run by setting your date range from the calendar. The start date defaults to today's date, but you can change it to any date in the future.")}}},ue={key:0,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},me={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},pe={class:"text-main-color text-base-lg font-extrabold dark:text-white"},he={class:"mb-base-2"},ge={class:"block mb-1"},be={key:1,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},fe={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},_e={class:"text-main-color text-base-lg font-extrabold dark:text-white"},ve={class:"mb-base-2"},ye={key:0,class:"mb-base-2"},we={class:"block mb-1"},ke={class:"flex flex-wrap gap-x-5 gap-y-base-2"},Ae={class:"flex items-center gap-base-2"},Te={for:"All"},Ve=["for"],xe={key:1,class:"mb-base-2"},Ie={class:"block mb-1"},Ce={class:"flex items-center gap-base-2 mb-2"},Be={for:"any"},De={class:"flex items-center gap-base-2 mb-2"},Se={for:"any_range"},Ue={key:0,class:"flex gap-base-2"},Le={class:"mb-base-2"},Ee={class:"block mb-1"},je={class:"mb-base-2"},Fe={class:"block mb-1"},Ne={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},Pe={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},He={class:"text-main-color text-base-lg font-extrabold dark:text-white"},Re={class:"mb-base-2"},ze={class:"mb-base-2"},Me={class:"block mb-1"},Ye={class:"mb-base-2"},Ge={class:"block mb-1"},qe={class:"flex flex-col sm:flex-row gap-base-2 mb-1"},Ke={class:"text-base-xs text-sub-color dark:text-slate-400"},Je={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},We={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},Ze={class:"text-main-color text-base-lg font-extrabold dark:text-white"},Oe={class:"mb-base-2"},Qe={key:0},Xe={key:1},$e={key:0,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},es={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},ss={class:"text-main-color text-base-lg font-extrabold dark:text-white"},ts={class:"feed-item-header flex mb-base-2"},os={class:"feed-item-header-img"},as={class:"feed-item-header-info flex-grow ps-base-2"},ns={class:"feed-item-header-info-title flex justify-between items-start gap-base-2"},ls={class:"whitespace-normal"},rs={class:"pt-[0.1rem]"},is={class:"feed-item-header-info-date block w-max text-sub-color text-xs dark:text-slate-400"},ds={class:"feed-item-content"},cs={key:1,class:"relative border border-divider dark:border-slate-700"},us={key:2},ms={class:"relative bg-black"},ps=["src"],hs={key:3,class:"flex flex-wrap gap-base-2 mb-base-2"},gs={class:"flex items-center gap-2"},bs={class:"truncate"},fs={class:"feed-main-action mt-3 mb-base-2 dark:text-white"},_s={class:"flex justify-between mb-base-2"},vs={class:"flex space-s-3"},ys={class:"feed-comment-info-action-right flex"},ws={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},ks={class:"font-semibold mb-base-2"},As={class:"flex gap-base-2 justify-between mb-base-2"},Ts={class:"text-end"},Vs={class:"flex gap-base-2 justify-between mb-base-2"},xs={class:"text-end"},Is={key:0},Cs={key:1},Bs={class:"flex gap-base-2 justify-between mb-base-2"},Ds={class:"text-end break-word"},Ss={class:"flex gap-base-2 justify-between mb-base-2"},Us={class:"text-end break-word"},Ls={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},Es={class:"font-semibold mb-base-2"},js={class:"mb-base-2"},Fs={class:"flex gap-base-2 justify-between mb-base-2"},Ns={class:"text-end"},Ps={class:"flex gap-base-2 justify-between mb-base-2"},Hs={class:"text-end"},Rs={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},zs={class:"flex gap-base-2 justify-between mb-base-2 font-semibold"},Ms={class:"text-end"};function Ys(s,a,m,A,t,h){const _=d("BaseInputText"),v=d("BaseRadio"),T=d("InfoTooltip"),B=d("AutoComplete"),D=d("BaseSelectLocation"),x=d("BaseCalendar"),I=d("BaseButton"),S=d("Avatar"),U=d("UserName"),g=d("BaseIcon"),L=d("ContentHtml"),E=d("VueperSlide"),j=d("VueperSlides"),F=d("LinkFetched"),N=d("FullColumn");return r(),y(N,{"keep-right-column":!0},{center:p(()=>[t.postInfo?(r(),i("div",ue,[e("div",me,[e("h3",pe,o(s.$t("Boost Post")),1)]),e("div",he,[e("label",ge,o(s.$t("Ads Name")),1),l(_,{modelValue:t.adsName,"onUpdate:modelValue":a[0]||(a[0]=n=>t.adsName=n),error:t.error.name},null,8,["modelValue","error"])])])):u("",!0),t.postInfo?(r(),i("div",be,[e("div",fe,[e("h3",_e,o(s.$t("Demographics & Targeting features")),1)]),e("div",ve,o(s.$t("Target your audience based on hashtags they use, followers of similar accounts.")),1),t.adsConfig?(r(),i("div",ye,[e("label",we,o(s.$t("Gender")),1),e("div",ke,[e("div",Ae,[l(v,{value:0,modelValue:t.genderId,"onUpdate:modelValue":a[1]||(a[1]=n=>t.genderId=n),inputId:"All",name:"genders"},null,8,["modelValue"]),e("label",Te,o(s.$t("All")),1)]),(r(!0),i(w,null,k(t.adsConfig.genders,(n,c)=>(r(),i("div",{key:c,class:"flex items-center gap-base-2"},[l(v,{value:c,modelValue:t.genderId,"onUpdate:modelValue":a[2]||(a[2]=b=>t.genderId=b),inputId:n,name:"genders"},null,8,["value","modelValue","inputId"]),e("label",{for:n},o(n),9,Ve)]))),128))])])):u("",!0),t.adsConfig?(r(),i("div",xe,[e("label",Ie,o(s.$t("Age")),1),e("div",Ce,[l(v,{value:t.ageTypeAny,modelValue:t.selectedAge,"onUpdate:modelValue":a[3]||(a[3]=n=>t.selectedAge=n),inputId:"any",name:"age"},null,8,["value","modelValue"]),e("label",Be,o(s.$t("Any")),1)]),e("div",De,[l(v,{value:t.ageTypeRange,modelValue:t.selectedAge,"onUpdate:modelValue":a[4]||(a[4]=n=>t.selectedAge=n),inputId:"any_range",name:"age"},null,8,["value","modelValue"]),e("label",Se,o(s.$t("Age Range")),1)]),t.selectedAge===t.ageTypeRange?(r(),i("div",Ue,[l(_,{modelValue:s.adsAgeFrom,"onUpdate:modelValue":a[5]||(a[5]=n=>s.adsAgeFrom=n),placeholder:s.$t("From"),error:t.error.age_from},null,8,["modelValue","placeholder","error"]),l(_,{modelValue:s.adsAgeTo,"onUpdate:modelValue":a[6]||(a[6]=n=>s.adsAgeTo=n),placeholder:s.$t("To"),error:t.error.age_to},null,8,["modelValue","placeholder","error"])])):u("",!0)])):u("",!0),e("div",Le,[e("label",Ee,[f(o(s.$t("Target hashtags"))+" ",1),l(T,{content:h.getHelpTextHashTag()},null,8,["content"])]),l(B,{modelValue:t.hashtags,"onUpdate:modelValue":a[7]||(a[7]=n=>t.hashtags=n),multiple:"",optionLabel:"name",suggestions:t.hashtagsList,onComplete:h.suggestHashtagsList,emptySearchMessage:s.$t("No hashtags found"),class:"w-full"},{option:p(n=>[e("div",null,o(n.option.name),1)]),_:1},8,["modelValue","suggestions","onComplete","emptySearchMessage"])]),e("div",je,[l(D,{modelValue:t.location,"onUpdate:modelValue":a[8]||(a[8]=n=>t.location=n),"show-address":!1},{default:p(()=>[e("label",Fe,[f(o(s.$t("Location"))+" ",1),l(T,{content:h.getHelpTextLocation()},null,8,["content"])])]),_:1},8,["modelValue"])])])):u("",!0),e("div",Ne,[e("div",Pe,[e("h3",He,o(s.$t("Budget & Scheduling")),1)]),e("div",Re,o(s.$t("Set a budget that fits your needs and a date range to take more control of your spend.")),1),e("div",ze,[e("label",Me,o(s.$t("Daily budget")),1),l(_,{modelValue:t.postAmount,"onUpdate:modelValue":a[9]||(a[9]=n=>t.postAmount=n),error:t.error.daily_amount},null,8,["modelValue","error"])]),e("div",Ye,[e("label",Ge,[f(o(s.$t("Date Range"))+" ",1),l(T,{content:h.getHelpTextDateRange()},null,8,["content"])]),e("div",qe,[l(x,{modelValue:t.postStartDate,"onUpdate:modelValue":a[10]||(a[10]=n=>t.postStartDate=n),placeholder:s.$t("Start Date"),error:t.error.start},null,8,["modelValue","placeholder","error"]),l(x,{modelValue:t.postEndDate,"onUpdate:modelValue":a[11]||(a[11]=n=>t.postEndDate=n),placeholder:s.$t("End Date"),error:t.error.end},null,8,["modelValue","placeholder","error"])]),e("p",Ke,o(s.$t("Ads that run for at least 4 days tend to get better results.")),1)])]),e("div",Je,[e("div",We,[e("h3",Ze,o(s.$t("Payment method")),1)]),e("div",Oe,[s.config.wallet.enable?(r(),i("span",Qe,o(s.$t("Ewallet")+" ( "+s.exchangeTokenCurrency(s.user.wallet_balance))+" ~ "+o(s.exchangeCurrency(s.user.wallet_balance)+")"),1)):(r(),i("span",Xe,o(s.$t("The eWallet system is not available at this time.")),1))]),s.config.wallet.enable?(r(),y(I,{key:0,href:h.baseUrl+"/wallet",target:"_blank"},{default:p(()=>[f(o(s.$t("Add funds")),1)]),_:1},8,["href"])):u("",!0)])]),right:p(()=>{var n;return[t.postInfo?(r(),i("div",$e,[e("div",es,[e("h3",ss,o(s.$t("Ads Preview")),1)]),e("div",null,[e("div",ts,[e("div",os,[l(S,{user:s.user,activePopover:!1,router:!1},null,8,["user"])]),e("div",as,[e("div",ns,[e("div",ls,[l(U,{user:s.user,truncate:!1,activePopover:!1,router:!1},null,8,["user"])]),e("div",rs,[l(g,{name:"more_horiz_outlined",size:"20",class:"feed-item-dropdown text-sub-color dark:text-slate-400"})])]),e("div",is,o(t.postInfo.created_at),1)])]),e("div",ds,[l(L,{content:t.postInfo.content},null,8,["content"]),t.postMedias.length?(r(),y(j,{key:0,"slide-ratio":s.aspectRatioImage(t.postMedias[0].subject.params),infinite:!1,arrows:!0,bullets:!1,"disable-arrows-on-edges":"",rtl:!!s.user.rtl,touchable:!1,gap:5,class:"activity_content_photos_list no-shadow"},{"arrow-left":p(()=>a[13]||(a[13]=[e("div",{class:"arrow_slider arrow_slider_left"},null,-1)])),"arrow-right":p(()=>a[14]||(a[14]=[e("div",{class:"arrow_slider arrow_slider_right"},null,-1)])),default:p(()=>[(r(!0),i(w,null,k(t.postInfo.items,(c,b)=>(r(),y(E,{key:c.id,class:"cursor-pointer bg-no-repeat",style:ee({backgroundColor:`${c.subject.params.dominant_color?c.subject.params.dominant_color:"#000"}`}),image:c.subject.url,onClick:Gs=>s.clickPhotoImage(b)},null,8,["style","image","onClick"]))),128))]),_:1},8,["slide-ratio","rtl"])):u("",!0),t.postSharedLink?(r(),i("div",cs,[l(F,{postItemsList:[t.postSharedLink]},null,8,["postItemsList"])])):u("",!0),t.postUploadedVideo?(r(),i("div",us,[e("div",ms,[e("img",{class:se(["w-full",s.aspectRatioVideo(t.postUploadedVideo.subject.thumb.params)=="horizontal"?"":"max-w-[200px] mx-auto"]),src:t.postUploadedVideo.subject.thumb.url},null,10,ps)])])):u("",!0),t.postUploadedFiles.length?(r(),i("div",hs,[(r(!0),i(w,null,k(t.postUploadedFiles,c=>(r(),i("div",{key:c.id,class:"bg-white text-inherit border border-divider px-base-2 py-2 rounded-1000 relative max-w-[200px] dark:bg-dark-web-wash dark:border-slate-700"},[e("div",gs,[l(g,{name:"file"}),e("span",bs,o(c.subject.name),1)])]))),128))])):u("",!0)]),e("div",fs,[e("div",_s,[e("div",vs,[e("div",null,[l(g,{name:"like"})]),e("div",null,[l(g,{name:"message"})]),e("div",null,[l(g,{name:"share"})])]),e("div",ys,[e("div",null,[l(g,{name:"bookmarks",class:"dark:text-white"})])])])]),e("div",ws,[e("div",ks,o(s.$t("Demographics & Targeting features")),1),e("div",As,[e("div",null,o(s.$t("Gender")),1),e("div",Ts,o(t.genderId?(n=t.adsConfig)==null?void 0:n.genders[t.genderId]:s.$t("All")),1)]),e("div",Vs,[e("div",null,o(s.$t("Age")),1),e("div",xs,[t.selectedAge==t.ageTypeAny?(r(),i("span",Is,o(s.$t("Any")),1)):u("",!0),t.selectedAge==t.ageTypeRange?(r(),i("span",Cs,o((t.postAgeFrom||0)+"-"+(t.postAgeTo||0)),1)):u("",!0)])]),e("div",Bs,[e("div",null,o(s.$t("Hashtags")),1),e("div",Ds,[(r(!0),i(w,null,k(t.hashtags,(c,b)=>(r(),i("span",{key:c.name},o("#"+c.name+(b==t.hashtags.length-1?"":", ")),1))),128))])]),e("div",Ss,[e("div",null,o(s.$t("Locations")),1),e("div",Us,o(t.location.address_full),1)])]),e("div",Ls,[e("div",Es,o(s.$t("Payment summary")),1),e("div",js,o(s.$filters.numberShortener(s.runningDate(t.postStartDate,t.postEndDate),s.$t("Your ads will run for [number] day"),s.$t("Your ads will run for [number] days"))),1),e("div",Fs,[e("div",null,o(s.$t("Total budget")),1),e("div",Ns,o(s.exchangeTokenCurrency(t.postAmount*s.runningDate(t.postStartDate,t.postEndDate))),1)]),e("div",Ps,[e("div",null,o(s.$t("Estimated VAT"))+" ("+o(s.config.advertising.vat)+"%)",1),e("div",Hs,o(s.exchangeTokenCurrency(t.postAmount*s.runningDate(t.postStartDate,t.postEndDate)*Number(s.config.advertising.vat)/100)),1)])]),e("div",Rs,[e("div",zs,[e("div",null,o(s.$t("Total amount")),1),e("div",Ms,o(s.exchangeTokenCurrency(t.postAmount*s.runningDate(t.postStartDate,t.postEndDate)*(100+Number(s.config.advertising.vat))/100)),1)])]),l(I,{class:"w-full",onClick:a[12]||(a[12]=c=>h.boostPost())},{default:p(()=>[f(o(s.$t("Boost Post")),1)]),_:1})])])):u("",!0)]}),_:1})}const $s=P(ce,[["render",Ys]]);export{$s as default};
