import{_ as f,m as p,u as m,aS as b,s as n,bl as h,bm as u,o as a,c as l,a as c,t as s,e as d}from"../../assets/app-73d10358.js";const k={data(){return{userInfo:this.dialogRef.data.userInfo}},inject:{dialogRef:{default:null}},computed:{...p(m,["user"])},methods:{reportUser(o){this.dialogRef.close(),setTimeout(()=>this.$dialog.open(b,{data:{type:"users",id:o},props:{header:this.$t("Report"),class:"user-report-modal",modal:!0,draggable:!1},onClose:()=>{n()}}),300)},blockUser(o){this.dialogRef.close(),setTimeout(()=>this.$confirm.require({message:o.is_page?this.$t("Are you sure you want to block this page?"):this.$t("Are you sure you want to block this user?"),header:this.$t("Please confirm"),acceptLabel:this.$t("Ok"),rejectLabel:this.$t("Cancel"),accept:async()=>{try{await h({id:o.id,action:"add"}),this.$router.push({name:"home"})}catch(e){this.showError(e.error)}n()},reject:()=>{n()},onHide:()=>{n()}}),300)},async stopNotificationUser(o){try{await u({id:o,action:"remove"}),this.userInfo.enable_notify=0,this.dialogRef.close()}catch(e){this.showError(e.error)}},async turnOnNotificationUser(o){try{await u({id:o,action:"add"}),this.userInfo.enable_notify=1,this.dialogRef.close()}catch(e){this.showError(e.error)}},cancel(){this.dialogRef.close()}}},g={class:"options-menu-modal flex flex-col text-main-color dark:text-white"};function y(o,e,w,I,t,r){return a(),l("div",g,[c("button",{class:"options-menu-modal-text text-center p-4 text-red-600 font-bold",onClick:e[0]||(e[0]=i=>r.reportUser(t.userInfo.id))},s(o.$t("Report")),1),o.user.id!==t.userInfo.id?(a(),l("button",{key:0,class:"options-menu-modal-text options-menu-modal-border text-center p-4 border-t border-light-divider text-red-600 font-bold dark:border-white/10",onClick:e[1]||(e[1]=i=>r.blockUser(t.userInfo))},s(o.$t("Block")),1)):d("",!0),t.userInfo.check_privacy&&t.userInfo.is_followed&&t.userInfo.enable_notify?(a(),l("button",{key:1,class:"options-menu-modal-border options-menu-modal-sub-text text-center p-4 border-t border-light-divider dark:border-white/10",onClick:e[2]||(e[2]=i=>r.stopNotificationUser(t.userInfo.id))},s(o.$t("Stop Notifications")),1)):d("",!0),t.userInfo.check_privacy&&t.userInfo.is_followed&&!t.userInfo.enable_notify?(a(),l("button",{key:2,class:"options-menu-modal-border options-menu-modal-sub-text text-center p-4 border-t border-light-divider dark:border-white/10",onClick:e[3]||(e[3]=i=>r.turnOnNotificationUser(t.userInfo.id))},s(o.$t("Turn on Notifications")),1)):d("",!0),c("button",{class:"options-menu-modal-border options-menu-modal-sub-text text-center p-4 border-t border-light-divider dark:border-white/10",onClick:e[4]||(e[4]=i=>r.cancel())},s(o.$t("Cancel")),1)])}const x=f(k,[["render",y]]);export{x as default};
