import{_ as w,O as b,aN as L,Y as T,U as k,H as x,ck as I,cl as K,r as n,o as a,c as o,a as i,t as h,b as c,g as l,w as d,d as P,e as p,F as v}from"../../assets/app-73d10358.js";var U=null;const B={components:{Loading:b,Error:L,InfiniteLoading:T,UsersList:k,BaseInputText:x},props:["tab"],data(){return{currentTab:this.tab?this.tab:"",hashtagKeyword:"",error:null,loadmoreStatus:!1,loadingSearchUsers:!0,searchUsers:[],currentPage:1}},mounted(){switch(this.currentTab){case"trending":this.getTrendingSearchUsersList(this.currentPage,this.hashtagKeyword);break;default:this.getSuggestSearchUsersList(this.currentPage,this.hashtagKeyword)}},methods:{findUsers(){this.currentPage=1,clearTimeout(U),U=setTimeout(()=>{switch(this.currentTab){case"trending":this.getTrendingSearchUsersList(this.currentPage,this.hashtagKeyword);break;default:this.getSuggestSearchUsersList(this.currentPage,this.hashtagKeyword)}},400)},async getSuggestSearchUsersList(e,s){try{const t=await I(e,s);return e===1?this.searchUsers=t.items:this.searchUsers=window._.concat(this.searchUsers,t.items),t.has_next_page?this.loadmoreStatus=!0:this.loadmoreStatus=!1,this.loadingSearchUsers=!1,t}catch(t){this.error=t,this.loadingSearchUsers=!1}},async getTrendingSearchUsersList(e,s){try{const t=await K(e,s);return e===1?this.searchUsers=t.items:this.searchUsers=window._.concat(this.searchUsers,t.items),t.has_next_page?this.loadmoreStatus=!0:this.loadmoreStatus=!1,this.loadingSearchUsers=!1,t}catch(t){this.error=t,this.loadingSearchUsers=!1}},loadSearchUsers(e){switch(this.currentTab){case"trending":this.getTrendingSearchUsersList(++this.currentPage,this.hashtagKeyword).then(s=>{s.has_next_page?(this.loadmoreStatus=!0,e.loaded()):(this.loadmoreStatus=!1,e.complete())});break;default:this.getSuggestSearchUsersList(++this.currentPage,this.hashtagKeyword).then(s=>{s.has_next_page?(this.loadmoreStatus=!0,e.loaded()):(this.loadmoreStatus=!1,e.complete())})}}}},N={class:"page-title mb-base-2"},V={class:"bg-white p-5 mb-base-2 rounded-base-lg dark:bg-slate-800"},E={key:1},C={key:0},F={key:1,class:"text-center"};function D(e,s,t,H,r,u){const f=n("BaseInputText"),g=n("Loading"),S=n("Error"),_=n("UsersList"),y=n("InfiniteLoading");return a(),o(v,null,[i("h1",N,h(r.currentTab==="suggest"?e.$t("Users for you"):e.$t("Popular Users")),1),i("div",V,[c(f,{placeholder:e.$t("Enter Name"),left_icon:"pencil",modelValue:r.hashtagKeyword,"onUpdate:modelValue":s[0]||(s[0]=m=>r.hashtagKeyword=m),onInput:s[1]||(s[1]=m=>u.findUsers()),class:"mb-3"},null,8,["placeholder","modelValue"]),r.loadingSearchUsers?(a(),l(g,{key:0})):(a(),o("div",E,[r.searchUsers.length?(a(),o("div",C,[r.error?(a(),l(S,{key:0},{default:d(()=>[P(h(r.error),1)]),_:1})):p("",!0),c(_,{usersList:r.searchUsers},null,8,["usersList"]),r.loadmoreStatus?(a(),l(y,{key:1,onInfinite:u.loadSearchUsers},{spinner:d(()=>[c(g)]),complete:d(()=>s[2]||(s[2]=[i("span",null,null,-1)])),_:1},8,["onInfinite"])):p("",!0)])):(a(),o("div",F,h(e.$t("No users found")),1))]))])],64)}const Y=w(B,[["render",D]]);export{Y as default};
