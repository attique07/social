import{_ as E,G as F,O as U,B as N,L as P,A as z,h as M,z as G,Z as Y,y as H,I as J,J as w,m as x,C as O,r as c,o as a,g as b,w as n,u as Z,l as I,a as e,c as d,d as f,t,b as i,e as h,F as g,v,E as q,x as K}from"../../assets/app-73d10358.js";import{b as Q,f as W}from"./ads-aeb8624d.js";import{B as X}from"./BaseSelectStatus-6f7205c4.js";const $={props:["id"],components:{FullColumn:F,Loading:U,BaseSelectStatus:X,BaseIcon:N,LinkFetched:P,Avatar:z,UserName:M,VueperSlides:G,VueperSlide:Y,BaseButton:H,ContentHtml:J},data(){return{loadingAdsInfo:!0,adsInfo:null,loadingViewMoreReport:!1,loadingAdvertisingReport:!1,loadmoreAdvertisingReport:!1,advertisementReportsList:[],advertisementReportsPage:1,adsType:"text",adsContent:null,adsMedias:[],adsSharedLink:null,adsUploadedVideo:null,adsUploadedFiles:[],genderId:0,selectedAge:w.AGE_TYPE.ANY,adsAgeFrom:null,adsAgeTo:null,hashtags:[],location:{country_id:null,state_id:null,city_id:null,zip_code:null,address:null,address_full:null},adsStartDate:null,adsEndDate:null,ageTypeAny:w.AGE_TYPE.ANY,ageTypeRange:w.AGE_TYPE.RANGE}},mounted(){if(!this.config.advertising.enable)return this.$router.push({name:"permission"});this.getAdsDetail(this.id),this.getAdsReport(this.id,this.advertisementReportsPage)},computed:{...x(Z,["user"]),...x(I,["config"])},methods:{...O(I,["setErrorLayout"]),async getAdsDetail(o){try{const r=await Q(o);switch(this.adsInfo=r,this.adsType=this.adsInfo.post.type,this.adsContent=this.adsInfo.post.content,this.genderId=this.adsInfo.gender,this.selectedAge=this.adsInfo.age_from==0&&this.adsInfo.age_to==0?this.ageTypeAny:this.ageTypeRange,this.adsAgeFrom=this.adsInfo.age_from,this.adsAgeTo=this.adsInfo.age_to,this.hashtags=this.adsInfo.hashtags,this.location.country_id=this.adsInfo.country_id,this.location.state_id=this.adsInfo.state_id,this.location.city_id=this.adsInfo.city_id,this.location.zip_code=this.adsInfo.zip_code,this.location.address=this.adsInfo.address,this.location.address_full=this.adsInfo.address_full,this.adsStartDate=this.adsInfo.start,this.adsEndDate=this.adsInfo.end,this.adsType){case"photo":this.adsMedias=this.adsInfo.post.items;break;case"link":this.adsSharedLink=this.adsInfo.post.items[0];break;case"video":this.adsUploadedVideo=this.adsInfo.post.items[0];break;case"file":this.adsUploadedFiles=this.adsInfo.post.items;break}this.loadingAdsInfo=!1}catch{this.setErrorLayout(!0),this.loadingAdsInfo=!1}},async getAdsReport(o,r){this.loadingViewMoreReport=!0;try{const p=await W(o,r);r===1?this.advertisementReportsList=p.items:this.advertisementReportsList=window._.concat(this.advertisementReportsList,p.items),p.has_next_page?(this.loadmoreAdvertisingReport=!0,this.advertisementReportsPage++):this.loadmoreAdvertisingReport=!1,this.loadingAdvertisingReport=!1,this.loadingViewMoreReport=!1}catch{this.loadingAdvertisingReport=!1,this.loadingViewMoreReport=!1}}}},ee={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},se={key:1,class:"flex gap-base-2 justify-between mb-base-2"},te={class:"flex-1"},oe={class:"flex gap-base-2"},ae={class:"text-base-xs text-sub-color dark:text-slate-400"},ie={class:"relative overflow-x-auto border border-b-0 border-table-border-color md:rounded-md dark:border-white/10"},de={class:"w-full text-sm whitespace-nowrap text-center"},ne={class:"text-xs uppercase bg-table-header-color dark:bg-dark-web-wash"},re={scope:"col",class:"p-3 text-start"},le={scope:"col",class:"p-3 w-10"},ce={scope:"col",class:"p-3 w-10"},he={scope:"col",class:"p-3 w-10"},ue={key:0},me={colspan:"4"},_e={class:"p-3"},pe={class:"flex gap-4 justify-between items-center text-start"},be={class:"font-medium"},fe={class:"text-base-xs text-sub-color dark:text-slate-400"},ge={class:"p-3"},ve={class:"p-3"},ke={class:"p-3"},we={key:1,class:"border-b border-table-border-color dark:border-gray-700"},ye={colspan:"5",class:"p-3"},xe={key:2,class:"text-center my-base-2"},Ie={key:0,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},Ae={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},Re={class:"text-main-color text-base-lg font-extrabold dark:text-white"},Se={class:"feed-item-header flex mb-base-2"},Ve={class:"feed-item-header-img"},je={class:"feed-item-header-info flex-grow ps-base-2"},Le={class:"feed-item-header-info-title flex justify-between items-start gap-base-2"},Ce={class:"whitespace-normal"},Te={class:"feed-item-content"},Be={key:1,class:"relative border border-divider dark:border-slate-700"},De={key:2},Ee={class:"relative bg-black"},Fe=["src"],Ue={key:3,class:"flex flex-wrap gap-base-2 mb-base-2"},Ne={class:"flex items-center gap-2"},Pe={class:"truncate"},ze={class:"feed-main-action mt-3 mb-1 dark:text-white"},Me={class:"flex justify-between mb-base-2"},Ge={class:"flex space-s-3"},Ye={class:"feed-comment-info-action-right flex"},He={key:0,class:"feed-comment-info-comment-holder-view-all text-sub-color dark:text-slate-400"},Je={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},Oe={class:"font-semibold mb-base-2"},Ze={class:"flex gap-base-2 justify-between mb-base-2"},qe={class:"text-end"},Ke={class:"flex gap-base-2 justify-between mb-base-2"},Qe={class:"text-end"},We={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},Xe={class:"font-semibold mb-base-2"},$e={class:"flex gap-base-2 justify-between mb-base-2"},es={class:"text-end"},ss={class:"flex gap-base-2 justify-between mb-base-2"},ts={class:"text-end"},os={key:0},as={key:1},is={class:"flex gap-base-2 justify-between mb-base-2"},ds={class:"text-end break-word"},ns={key:0,class:"flex gap-base-2 justify-between mb-base-2"},rs={class:"text-end break-word"},ls={class:"flex gap-base-2 justify-between mb-base-2"},cs={class:"text-end break-word"},hs={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},us={class:"font-semibold mb-base-2"},ms={class:"flex gap-base-2 justify-between mb-base-2"},_s={class:"text-end"},ps={class:"flex gap-base-2 justify-between mb-base-2"},bs={class:"text-end"},fs={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},gs={class:"flex gap-base-2 justify-between font-semibold"},vs={class:"text-end"},ks={class:"flex gap-base-2 justify-between"};function ws(o,r,p,ys,s,A){const y=c("Loading"),_=c("BaseIcon"),m=c("router-link"),R=c("BaseSelectStatus"),S=c("BaseButton"),V=c("Avatar"),j=c("UserName"),L=c("ContentHtml"),C=c("VueperSlide"),T=c("VueperSlides"),B=c("LinkFetched"),D=c("FullColumn");return a(),b(D,{"keep-right-column":!0},{center:n(()=>[e("div",ee,[s.loadingAdsInfo?(a(),b(y,{key:0})):(a(),d("div",se,[e("div",te,[e("div",oe,[f(t(s.adsInfo.name)+" ",1),s.adsInfo.canEdit?(a(),b(m,{key:0,to:{name:"advertising_create",params:{id:s.adsInfo.id}},class:"h-6 text-inherit flex items-center self-start"},{default:n(()=>[i(_,{name:"pencil",size:"16"})]),_:1},8,["to"])):h("",!0)]),e("div",ae,t(s.adsInfo.created_at),1)]),i(R,{modelValue:s.adsInfo.status,"onUpdate:modelValue":r[0]||(r[0]=l=>s.adsInfo.status=l),item:s.adsInfo},null,8,["modelValue","item"])])),e("div",ie,[e("table",de,[e("thead",ne,[e("tr",null,[e("th",re,t(o.$t("Date")),1),e("th",le,t(o.$t("Views")),1),e("th",ce,t(o.$t("Clicks")),1),e("th",he,t(o.$t("Total spent")),1)])]),e("tbody",null,[s.loadingAdvertisingReport?(a(),d("tr",ue,[e("td",me,[i(y,{class:"mt-base-2"})])])):(a(),d(g,{key:1},[s.advertisementReportsList.length?(a(!0),d(g,{key:0},v(s.advertisementReportsList,l=>(a(),d("tr",{key:l.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b border-table-border-color dark:border-gray-700"},[e("td",_e,[e("div",pe,[e("div",null,[e("div",be,t(l.date),1),e("div",fe,t(l.created_at),1)])])]),e("td",ge,t(l.view_count),1),e("td",ve,t(l.click_count),1),e("td",ke,t(l.total_amount),1)]))),128)):(a(),d("tr",we,[e("td",ye,t(o.$t("No Reports")),1)]))],64))])])]),s.loadmoreAdvertisingReport?(a(),d("div",xe,[i(S,{onClick:r[1]||(r[1]=l=>A.getAdsReport(p.id,s.advertisementReportsPage)),loading:s.loadingViewMoreReport},{default:n(()=>[f(t(o.$t("View more")),1)]),_:1},8,["loading"])])):h("",!0)])]),right:n(()=>{var l;return[s.adsInfo?(a(),d("div",Ie,[e("div",Ae,[e("h3",Re,t(o.$t("Ad Summary")),1)]),e("div",null,[e("div",Se,[e("div",Ve,[i(V,{user:o.user,activePopover:!1,router:!1},null,8,["user"])]),e("div",je,[e("div",Le,[e("div",Ce,[i(j,{user:o.user,truncate:!1,activePopover:!1,router:!1},null,8,["user"])]),i(m,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"pt-[0.1rem]"},{default:n(()=>[i(_,{name:"more_horiz_outlined",size:"20",class:"feed-item-dropdown text-sub-color dark:text-slate-400"})]),_:1},8,["to"])]),i(m,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"feed-item-header-info-date block w-max text-sub-color text-xs dark:text-slate-400"},{default:n(()=>[f(t(s.adsInfo.created_at),1)]),_:1},8,["to"])])]),e("div",Te,[i(L,{content:s.adsContent},null,8,["content"]),s.adsMedias.length?(a(),b(T,{key:0,"slide-ratio":o.aspectRatioImage(s.adsMedias[0].subject.params),infinite:!1,arrows:!0,bullets:!1,"disable-arrows-on-edges":"",rtl:!!o.user.rtl,touchable:!1,gap:5,class:"activity_content_photos_list no-shadow"},{"arrow-left":n(()=>r[2]||(r[2]=[e("div",{class:"arrow_slider arrow_slider_left"},null,-1)])),"arrow-right":n(()=>r[3]||(r[3]=[e("div",{class:"arrow_slider arrow_slider_right"},null,-1)])),default:n(()=>[(a(!0),d(g,null,v(s.adsMedias,(u,k)=>(a(),b(C,{key:u.id,class:"cursor-pointer bg-no-repeat",style:q({backgroundColor:`${u.subject.params.dominant_color?u.subject.params.dominant_color:"#000"}`}),image:u.subject.url,onClick:xs=>o.clickPhotoImage(k)},null,8,["style","image","onClick"]))),128))]),_:1},8,["slide-ratio","rtl"])):h("",!0),s.adsSharedLink?(a(),d("div",Be,[i(B,{postItemsList:[s.adsSharedLink]},null,8,["postItemsList"])])):h("",!0),s.adsUploadedVideo?(a(),d("div",De,[e("div",Ee,[e("img",{class:K(["w-full",o.aspectRatioVideo(s.adsUploadedVideo.subject.thumb.params)=="horizontal"?"":"max-w-[200px] mx-auto"]),src:s.adsUploadedVideo.subject.thumb.url},null,10,Fe)])])):h("",!0),s.adsUploadedFiles.length?(a(),d("div",Ue,[(a(!0),d(g,null,v(s.adsUploadedFiles,u=>(a(),d("div",{key:u.id,class:"bg-white text-inherit border border-divider px-base-2 py-2 rounded-1000 relative max-w-[200px] dark:bg-dark-web-wash dark:border-slate-700"},[e("div",Ne,[i(_,{name:"file"}),e("span",Pe,t(u.subject.name),1)])]))),128))])):h("",!0)]),e("div",ze,[e("div",Me,[e("div",Ge,[i(m,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:n(()=>[i(_,{name:"like"})]),_:1},8,["to"]),i(m,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:n(()=>[i(_,{name:"message"})]),_:1},8,["to"]),i(m,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:n(()=>[i(_,{name:"share"})]),_:1},8,["to"])]),e("div",Ye,[i(m,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:n(()=>[i(_,{name:"bookmarks",class:"dark:text-white"})]),_:1},8,["to"])])]),i(m,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"feed-item-like-text inline-block text-main-color font-semibold dark:text-white"},{default:n(()=>[f(t(o.$filters.numberShortener(s.adsInfo.post.like_count,o.$t("[number] like"),o.$t("[number] likes"))),1)]),_:1},8,["to"])]),s.adsInfo.post.comment_count>0?(a(),d("div",He,[i(m,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:n(()=>[f(t(o.$filters.numberShortener(s.adsInfo.post.comment_count,o.$t("View all [number] comment"),o.$t("View all [number] comments"))),1)]),_:1},8,["to"])])):h("",!0),e("div",Je,[e("div",Oe,t(o.$t("Date")),1),e("div",Ze,[e("div",null,t(o.$t("Start Date")),1),e("div",qe,t(s.adsStartDate),1)]),e("div",Ke,[e("div",null,t(o.$t("End Date")),1),e("div",Qe,t(s.adsEndDate),1)])]),e("div",We,[e("div",Xe,t(o.$t("Demographics & Targeting features")),1),e("div",$e,[e("div",null,t(o.$t("Gender")),1),e("div",es,t(s.genderId?(l=o.adsConfig)==null?void 0:l.genders[s.genderId]:o.$t("All")),1)]),e("div",ss,[e("div",null,t(o.$t("Age")),1),e("div",ts,[s.selectedAge==s.ageTypeAny?(a(),d("span",os,t(o.$t("Any")),1)):h("",!0),s.selectedAge==s.ageTypeRange?(a(),d("span",as,t(s.adsAgeFrom+"-"+s.adsAgeTo),1)):h("",!0)])]),e("div",is,[e("div",null,t(o.$t("Hashtags")),1),e("div",ds,[(a(!0),d(g,null,v(s.hashtags,(u,k)=>(a(),d("span",{key:u.name},t("#"+u.name+(k==s.hashtags.length-1?"":", ")),1))),128))])]),s.location.address_full?(a(),d("div",ns,[e("div",null,t(o.$t("Locations")),1),e("div",rs,t(s.location.address_full),1)])):h("",!0),e("div",ls,[e("div",null,t(o.$t("Daily budget")),1),e("div",cs,t(s.adsInfo.daily_amount),1)])]),e("div",hs,[e("div",us,t(o.$t("Payment summary")),1),e("div",ms,[e("div",null,t(o.$t("Total budget")),1),e("div",_s,t(s.adsInfo.total_amount),1)]),e("div",ps,[e("div",null,t(o.$t("Spent Amount")),1),e("div",bs,t(s.adsInfo.total_delivery_amount),1)])]),e("div",fs,[e("div",gs,[e("div",null,t(o.$t("Available Amount")),1),e("div",vs,t(s.adsInfo.total_available_amount),1)]),e("div",ks,[e("div",null,t(o.$t("VAT"))+" ("+t(s.adsInfo.vat)+"%)",1)])])])])):h("",!0)]}),_:1})}const Ss=E($,[["render",ws]]);export{Ss as default};
