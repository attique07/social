import{_ as g,O as h,y as b,bO as f,bP as y,r as l,o as n,g as p,c as u,a as s,t as o,b as r,e as v,w,a3 as B,d as S}from"../../assets/app-73d10358.js";import{B as E}from"./BaseSwitch-b9495672.js";const V={components:{BaseSwitch:E,Loading:h,BaseButton:b},mounted(){this.getEmailSettings()},data(){return{loading_status:!0,email_enable:!0,daily_email_enable:!0,loading:!1}},methods:{async getEmailSettings(){try{const e=await f();return this.email_enable=e.email_enable,this.daily_email_enable=e.daily_email_enable,this.loading_status=!1,e}catch{this.loading_status=!1}},async saveEmailSettings(){if(!this.loading){this.loading=!0;try{var e={email_enable:this.email_enable,daily_email_enable:this.daily_email_enable};await y(e),this.showSuccess(this.$t("Your changes have been saved."))}catch(a){this.showError(a.error)}finally{this.loading=!1}}}}},k={class:"flex gap-5 justify-between mb-5"},x={key:0},N={class:"flex gap-5 justify-between mb-5"},C={class:"text-center mt-8"};function L(e,a,U,j,t,m){const _=l("Loading"),d=l("BaseSwitch"),c=l("BaseButton");return t.loading_status?(n(),p(_,{key:0})):(n(),u("form",{key:1,onSubmit:a[2]||(a[2]=B((...i)=>m.saveEmailSettings&&m.saveEmailSettings(...i),["prevent"]))},[s("div",k,[s("h4",null,o(e.$t("Unsubscribe from all mailings")),1),s("div",null,[r(d,{modelValue:t.email_enable,"onUpdate:modelValue":a[0]||(a[0]=i=>t.email_enable=i)},null,8,["modelValue"])])]),t.email_enable?(n(),u("div",x,[s("div",N,[s("h4",null,o(e.$t("Daily email notification (Get emails to find out what’s going on when you’re not on system. You can turn them off anytime)")),1),s("div",null,[r(d,{modelValue:t.daily_email_enable,"onUpdate:modelValue":a[1]||(a[1]=i=>t.daily_email_enable=i)},null,8,["modelValue"])])])])):v("",!0),s("div",C,[r(c,{loading:t.loading},{default:w(()=>[S(o(e.$t("Save")),1)]),_:1},8,["loading"])])],32))}const Y=g(V,[["render",L]]);export{Y as default};
