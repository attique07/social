import{g as y}from"./subscription-540655cb.js";import{_ as L,O as f,y as k,a5 as v,r as l,o as i,c as n,b as d,a as t,t as s,F as u,v as w,w as b,e as B,d as h}from"../../assets/app-73d10358.js";const x={components:{Loading:f,BaseButton:k,BaseSelect:v},data(){return{loadingSubscription:!0,loadmoreSubscription:!1,subscriptionsList:[],currentPage:1,selectedStatus:"all",statusList:[{name:this.$t("All"),value:"all"},{name:this.$t("Active"),value:"active"},{name:this.$t("Cancel"),value:"cancel"},{name:this.$t("Stop"),value:"stop"}]}},mounted(){this.getSubscriptionsList(this.selectedStatus,this.currentPage)},methods:{async getSubscriptionsList(e,o){try{const c=await y(e,o);o===1?this.subscriptionsList=c.items:this.subscriptionsList=window._.concat(this.subscriptionsList,c.items),c.has_next_page?(this.loadmoreSubscription=!0,this.currentPage++):this.loadmoreSubscription=!1,this.loadingSubscription=!1}catch(c){this.showError(c.error)}},filterSubscriptionsList(){this.currentPage=1,this.getSubscriptionsList(this.selectedStatus,this.currentPage)}}},V={class:"relative overflow-x-auto border border-b-0 border-table-border-color md:rounded-md dark:border-white/10"},$={class:"w-full text-sm whitespace-nowrap text-start"},C={class:"text-xs uppercase bg-table-header-color dark:bg-dark-web-wash"},N={scope:"col",class:"p-3"},P={scope:"col",class:"p-3"},A={scope:"col",class:"p-3"},E={scope:"col",class:"p-3"},F={key:0},U={colspan:"5"},D={class:"p-3"},O={class:"p-3"},T={class:"p-3"},j={class:"p-3"},q={key:1,class:"border-b border-table-border-color dark:border-gray-700"},z={colspan:"5",class:"text-center p-3"},G={key:0,class:"text-center my-base-2"};function H(e,o,c,I,r,p){const _=l("BaseSelect"),m=l("Loading"),g=l("router-link"),S=l("BaseButton");return i(),n(u,null,[d(_,{class:"max-w-[240px] mb-base-2",onChange:o[0]||(o[0]=a=>p.filterSubscriptionsList()),modelValue:r.selectedStatus,"onUpdate:modelValue":o[1]||(o[1]=a=>r.selectedStatus=a),options:r.statusList,optionLabel:"name",optionValue:"value",placeholder:e.$t("Status")},null,8,["modelValue","options","placeholder"]),t("div",V,[t("table",$,[t("thead",C,[t("tr",null,[t("th",N,s(e.$t("Subscription")),1),t("th",P,s(e.$t("Status")),1),t("th",A,s(e.$t("Next payment")),1),t("th",E,s(e.$t("Action")),1)])]),t("tbody",null,[r.loadingSubscription?(i(),n("tr",F,[t("td",U,[d(m,{class:"mt-base-2"})])])):(i(),n(u,{key:1},[r.subscriptionsList.length?(i(!0),n(u,{key:0},w(r.subscriptionsList,a=>(i(),n("tr",{key:a.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b border-table-border-color dark:border-gray-700"},[t("td",D,s(a.name),1),t("td",O,s(a.status_text),1),t("td",T,s(a.next_payment),1),t("td",j,[d(g,{to:{name:"setting_subscription_detail",params:{id:a.id}}},{default:b(()=>[h(s(e.$t("View")),1)]),_:2},1032,["to"])])]))),128)):(i(),n("tr",q,[t("td",z,s(e.$t("No Subscriptions")),1)]))],64))])])]),r.loadmoreSubscription?(i(),n("div",G,[d(S,{onClick:o[2]||(o[2]=a=>p.getSubscriptionsList(r.selectedStatus,r.currentPage))},{default:b(()=>[h(s(e.$t("View more")),1)]),_:1})])):B("",!0)],64)}const M=L(x,[["render",H]]);export{M as default};
