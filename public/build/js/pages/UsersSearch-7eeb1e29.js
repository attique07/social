import{_ as y,aN as L,O as m,U as f,Y as U,bG as q,r as n,o as r,c as a,g as u,w as i,d as w,t as l,e as k,F as b,b as c,a as P}from"../../assets/app-73d10358.js";const D={components:{Error:L,Loading:m,UsersList:f,InfiniteLoading:U},props:["search_type","type","query"],data(){return{error:null,queryData:this.query,loading_users:!0,searchUsersList:[],currentPage:1}},mounted(){this.getSearchUsersList(this.queryData,this.currentPage)},watch:{$route(){this.queryData=window._.isNil(this.$route.query.q)?"":this.$route.query.q,this.currentPage=1,this.queryData&&this.getSearchUsersList(this.queryData,this.currentPage)}},methods:{async getSearchUsersList(e,s){try{const t=await q(this.search_type,e,this.type,s);return this.currentPage===1?this.searchUsersList=t:this.searchUsersList=window._.concat(this.searchUsersList,t),this.loading_users=!1,t}catch(t){this.error=t,this.loading_users=!1}},loadMorePosts(e){this.getSearchUsersList(this.queryData,++this.currentPage).then(s=>{s.length===0?e.complete():e.loaded()})}}},N={class:"bg-white p-base-2 rounded-none md:rounded-base-lg mb-base-2 dark:bg-slate-800"},S={key:0},x={key:1,class:"text-center"};function I(e,s,t,v,o,d){const _=n("Error"),h=n("Loading"),g=n("UsersList"),p=n("InfiniteLoading");return r(),a("div",N,[o.error?(r(),u(_,{key:0},{default:i(()=>[w(l(o.error),1)]),_:1})):k("",!0),o.loading_users?(r(),u(h,{key:1})):(r(),a(b,{key:2},[o.searchUsersList.length>0?(r(),a("div",S,[c(g,{usersList:o.searchUsersList,showFollower:!0},null,8,["usersList"]),c(p,{onInfinite:d.loadMorePosts},{spinner:i(()=>[c(h)]),complete:i(()=>s[0]||(s[0]=[P("span",null,null,-1)])),_:1},8,["onInfinite"])])):(r(),a("div",x,l(e.$t("No users found")),1))],64))])}const E=y(D,[["render",I]]);export{E as default};
