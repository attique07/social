import{g as k,b as L}from"./invite-c8df5c48.js";import{_ as S,aN as B,O as V,y as K,H as N,a5 as T,r as d,o as n,c as i,g,w as p,d as b,t as o,e as x,a as e,a3 as C,b as c,F as u,v as E}from"../../assets/app-73d10358.js";const j={components:{Error:B,Loading:V,BaseButton:K,BaseInputText:N,BaseSelect:T},data(){return{error:null,inviteInfo:null,invitesList:null,loadingInvites:!0,loadmoreInvites:!1,page:1,searchKeyword:"",selectedStatus:"all",statusList:[{name:this.$t("All"),value:"all"},{name:this.$t("Joined"),value:"joined"},{name:this.$t("Sent"),value:"sent"}]}},mounted(){this.getInviteInfo(),this.getInvitesList(this.selectedStatus,this.page,this.searchKeyword)},methods:{labelText(t){switch(t){case"sent":return this.$t("Sent");case"joined":return this.$t("Joined")}},async getInviteInfo(){try{const t=await k();this.inviteInfo=t}catch(t){this.error=t}},async getInvitesList(t,r,_){try{const l=await L(t,r,_);r===1?this.invitesList=l.items:this.invitesList=window._.concat(this.invitesList,l.items),l.has_next_page?(this.loadmoreInvites=!0,this.page++):this.loadmoreInvites=!1,this.loadingInvites=!1}catch(l){this.error=l,this.loadingInvites=!1}},searchInvitesList(){this.page=1,this.getInvitesList(this.selectedStatus,this.page,this.searchKeyword)}}},J={class:"px-base-2 pt-6 pb-4 text-center"},U={class:"text-base-lg font-bold mb-base-2"},F={class:"mb-base-2"},H={key:0,class:"flex justify-between items-center border border-secondary-box-color mb-base-2 dark:border-white/10"},A={class:"px-2 py-5 flex-1"},D={class:"text-3xl md:text-base-4xl py-3"},M={class:"text-base-xs uppercase"},O={class:"px-2 py-5 flex-1 border-l border-r border-secondary-box-color dark:border-white/10"},W={class:"text-3xl md:text-base-4xl py-3"},Y={class:"text-base-xs uppercase"},$={class:"px-2 py-5 flex-1"},q={class:"text-3xl md:text-base-4xl py-3"},z={class:"text-base-xs uppercase"},G={class:"relative overflow-x-auto border border-b-0 border-table-border-color md:rounded-md dark:border-white/10"},P={class:"w-full text-sm whitespace-nowrap text-center"},Q={class:"text-xs uppercase bg-table-header-color dark:bg-dark-web-wash"},R={scope:"col",class:"p-3 text-start"},X={scope:"col",class:"p-3"},Z={scope:"col",class:"p-3"},ee={key:0},te={colspan:"3"},se={class:"p-3 text-start"},oe={class:"p-3"},re={class:"p-3"},ae={key:1,class:"border-b border-table-border-color dark:border-gray-700"},ne={colspan:"3",class:"p-3"},ie={key:2,class:"text-center my-base-2"};function le(t,r,_,l,s,h){const f=d("Error"),v=d("Loading"),y=d("BaseInputText"),I=d("BaseSelect"),m=d("BaseButton");return n(),i(u,null,[s.error?(n(),g(f,{key:0},{default:p(()=>[b(o(s.error),1)]),_:1})):x("",!0),e("div",J,[e("p",U,o(t.$t("What’s the Status of Your Sent Invites")),1),e("p",F,o(t.$t("Here’s a list of the people that have been invited to join")),1),s.inviteInfo?(n(),i("div",H,[e("div",A,[e("div",D,o(s.inviteInfo.total_sent),1),e("div",M,o(t.$t("Sent")),1)]),e("div",O,[e("div",W,o(s.inviteInfo.total_register),1),e("div",Y,o(t.$t("Joined")),1)]),e("div",$,[e("div",q,o(s.inviteInfo.percent_register)+"%",1),e("div",z,o(t.$t("Conversion")),1)])])):(n(),g(v,{key:1})),e("form",{class:"flex gap-base-2 mb-base-2",onSubmit:r[2]||(r[2]=C((...a)=>h.searchInvitesList&&h.searchInvitesList(...a),["prevent"]))},[c(y,{modelValue:s.searchKeyword,"onUpdate:modelValue":r[0]||(r[0]=a=>s.searchKeyword=a),placeholder:t.$t("Keyword"),class:"max-w-[240px]"},null,8,["modelValue","placeholder"]),c(I,{class:"max-w-[240px]",modelValue:s.selectedStatus,"onUpdate:modelValue":r[1]||(r[1]=a=>s.selectedStatus=a),options:s.statusList,optionLabel:"name",optionValue:"value",placeholder:t.$t("Status")},null,8,["modelValue","options","placeholder"]),c(m,null,{default:p(()=>[b(o(t.$t("Search")),1)]),_:1})],32),e("div",G,[e("table",P,[e("thead",Q,[e("tr",null,[e("th",R,o(t.$t("Email")),1),e("th",X,o(t.$t("Last Updated")),1),e("th",Z,o(t.$t("Status")),1)])]),e("tbody",null,[s.loadingInvites?(n(),i("tr",ee,[e("td",te,[c(v,{class:"mt-base-2"})])])):(n(),i(u,{key:1},[s.invitesList.length?(n(!0),i(u,{key:0},E(s.invitesList,(a,w)=>(n(),i("tr",{key:w,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b border-table-border-color dark:border-gray-700"},[e("td",se,o(a.email),1),e("td",oe,o(a.sent_at),1),e("td",re,o(h.labelText(a.status)),1)]))),128)):(n(),i("tr",ae,[e("td",ne,o(t.$t("No Invites Sent")),1)]))],64))])])]),s.loadmoreInvites?(n(),i("div",ie,[c(m,{onClick:r[3]||(r[3]=a=>h.getInvitesList(s.selectedStatus,s.page,s.searchKeyword))},{default:p(()=>[b(o(t.$t("View more")),1)]),_:1})])):x("",!0)])],64)}const he=S(j,[["render",le]]);export{he as default};
