import{aN as b,B as h,ak as g,m as C,a8 as d,C as k,_ as P,r as o,o as r,c as i,a as c,b as e,w as B,d as w,t as y,F as v}from"../../assets/app-73d10358.js";import{P as x,a as I}from"./CommentsList-b62f7880.js";const L={components:{Error:b,PostContent:x,CommentsList:I,BaseIcon:h,CloseButton:g},inject:["dialogRef"],data(){return{error:null,post:this.dialogRef.data.post}},watch:{$route(){this.dialogRef.close()},postsList(s,t){s<t&&this.closePostDetailModal()}},mounted(){this.dialogRef.data.post&&this.loadPostInfo(this.dialogRef.data.post.id)},computed:{...C(d,["postsList"])},methods:{...k(d,["getPostById"]),async loadPostInfo(s){try{await this.getPostById(s)}catch(t){this.error=t.error.detail.id}},focusForm(){this.$refs.CommentsList.focusForm()},closePostDetailModal(){this.dialogRef.close()}}},D={key:0,class:"bg-white p-base-2 rounded-none md:rounded-base-lg dark:bg-slate-800"},R={key:1,class:"post-detail-modal-content p-base-2 rounded-none md:rounded-base-lg dark:bg-slate-800"},F={class:"feed-comment-info-comment-holder"};function M(s,t,E,N,a,n){const m=o("BaseIcon"),p=o("Error"),f=o("PostContent"),u=o("CommentsList"),_=o("CloseButton");return r(),i(v,null,[c("button",{class:"post-header-back sticky top-0 z-50 flex items-center justify-start w-full p-base-2 bg-white text-black border-b border-divider lg:hidden dark:bg-slate-800 dark:border-white/10 dark:text-white",onClick:t[0]||(t[0]=l=>n.closePostDetailModal())},[e(m,{name:"arrow_left"})]),a.error?(r(),i("div",D,[e(p,{class:"mb-0"},{default:B(()=>[w(y(a.error),1)]),_:1})])):(r(),i("div",R,[e(f,{post:a.post,onComment_click:t[1]||(t[1]=l=>n.focusForm())},null,8,["post"]),c("div",F,[e(u,{ref:"CommentsList",router_name:"post",item:a.post,type:"posts"},null,8,["item"])])])),e(_,{onClick:t[2]||(t[2]=l=>n.closePostDetailModal())})],64)}const j=P(L,[["render",M]]);export{j as P};
