import{c as m,r as h}from"./subscription-540655cb.js";import{_ as y,y as f,r as g,o as n,c,a,t as s,x as _,F as C,e as r,g as l,w as b,d}from"../../assets/app-73d10358.js";const k={props:["subscription"],components:{BaseButton:f},methods:{async doCancelSubscription(t){this.$confirm.require({message:this.$t("Your subscription will be canceled at the end of your billing period on")+" "+this.subscription.next_payment+". "+this.$t("You can change your mind anytime before this date."),header:this.$t("Cancel Subscription?"),acceptLabel:this.$t("Cancel Subscription"),rejectLabel:this.$t("Keep Subscription"),accept:async()=>{try{await m(t),this.$emit("update",t)}catch(i){this.showError(i.error)}}})},async doResumeSubscription(t){this.$confirm.require({message:this.$t("Do you want to resume this subscription?"),header:this.$t("Please confirm"),acceptLabel:this.$t("Ok"),rejectLabel:this.$t("Cancel"),accept:async()=>{try{await h(t),this.$emit("update",t)}catch(i){this.showError(i.error)}}})},emits:["update"]}},w={key:0,class:"flex flex-col gap-1 bg-light-blue p-3 rounded-base dark:bg-dark-web-wash"},S={class:"flex gap-4"},x={class:"flex-1 font-semibold"},B={key:1},v={key:2};function $(t,i,e,L,P,o){const u=g("BaseButton");return e.subscription?(n(),c("div",w,[a("div",S,[a("p",x,s(t.$t("Current Package"))+" : "+s(e.subscription.name),1),a("span",{class:_(["text-white text-base-xs px-2 py-1 rounded-base self-start",e.subscription.status=="cancel"?"bg-base-red":"bg-base-green"])},s(e.subscription.status_text),3)]),a("p",null,s(t.$t("Created date")+": "+e.subscription.created_at),1),e.subscription.status==="active"?(n(),c(C,{key:0},[a("p",null,s(e.subscription.trial),1),a("p",null,s(t.$t("Subscription renewal date")+": "+e.subscription.next_payment),1),a("p",null,s(t.$t("You will be charged")+": "+e.subscription.price),1),a("p",null,s(t.$t("Payment method")+": "+e.subscription.gateway),1)],64)):r("",!0),e.subscription.status==="cancel"?(n(),c("p",B,s(t.$t("Subscription will stop at")+": "+e.subscription.next_payment),1)):r("",!0),["active","cancel"].includes(e.subscription.status)?(n(),c("div",v,[e.subscription.can_cancel?(n(),l(u,{key:0,onClick:i[0]||(i[0]=p=>o.doCancelSubscription(e.subscription.id)),size:"sm"},{default:b(()=>[d(s(t.$t("Cancel subscription")),1)]),_:1})):r("",!0),e.subscription.can_resume?(n(),l(u,{key:1,onClick:i[1]||(i[1]=p=>o.doResumeSubscription(e.subscription.id)),size:"sm"},{default:b(()=>[d(s(t.$t("Resume subscription")),1)]),_:1})):r("",!0)])):r("",!0)])):r("",!0)}const N=y(k,[["render",$]]);export{N as C};
