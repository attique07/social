import{h as y}from"./ads-aeb8624d.js";import{_ as A,O as B,B as S,y as L,a5 as V,m as $,l as C,r as c,o as r,c as n,a as e,t as s,b as d,w as h,d as u,F as m,v as P,g as M,e as b}from"../../assets/app-73d10358.js";import{B as N}from"./BaseSelectStatus-6f7205c4.js";const E={components:{Loading:B,BaseSelectStatus:N,BaseIcon:S,BaseButton:L,BaseSelect:V},data(){return{selectedStatus:"all",statusList:[{name:this.$t("All"),value:"all"},{name:this.$t("Active"),value:"active"},{name:this.$t("Stop"),value:"stop"},{name:this.$t("Done"),value:"done"}],loadingAdvertising:!0,loadmoreAdvertising:!1,advertisementsList:[],advertisementPage:1,loadingViewMore:!1}},computed:{...$(C,["config"])},mounted(){if(!this.config.advertising.enable)return this.$router.push({name:"permission"});this.getAdvertisingsList(this.selectedStatus,this.advertisementPage)},methods:{async getAdvertisingsList(o,i){this.loadingViewMore=!0;try{const l=await y(o,i);i===1?this.advertisementsList=l.items:this.advertisementsList=window._.concat(this.advertisementsList,l.items),l.has_next_page?(this.loadmoreAdvertising=!0,this.advertisementPage++):this.loadmoreAdvertising=!1,this.loadingAdvertising=!1,this.loadingViewMore=!1}catch(l){this.showError(l.error),this.loadingAdvertising=!1,this.loadingViewMore=!1}},filterAdvertisingsList(){this.advertisementPage=1,this.getAdvertisingsList(this.selectedStatus,this.advertisementPage)}}},U={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},j={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},D={class:"text-main-color text-base-lg font-extrabold dark:text-white"},F={class:"relative overflow-x-auto border border-b-0 border-table-border-color md:rounded-md dark:border-white/10"},T={class:"w-full text-sm whitespace-nowrap text-center"},z={class:"text-xs uppercase bg-table-header-color dark:bg-dark-web-wash"},O={scope:"col",class:"p-3 w-10"},q={scope:"col",class:"p-3 text-start"},G={scope:"col",class:"p-3 w-10"},H={scope:"col",class:"p-3 w-10"},J={scope:"col",class:"p-3 w-10"},K={key:0},Q={colspan:"5"},R={class:"p-3"},W={class:"p-3"},X={class:"flex gap-4 justify-between items-center text-start"},Y={class:"font-medium"},Z={class:"text-base-xs text-sub-color dark:text-slate-400"},I={class:"p-3"},ee={class:"p-3"},te={class:"p-3"},se={key:1,class:"border-b border-table-border-color dark:border-gray-700"},oe={colspan:"5",class:"p-3"},ae={key:0,class:"text-center my-base-2"};function ie(o,i,l,re,a,g){const _=c("BaseButton"),v=c("BaseSelect"),w=c("Loading"),f=c("BaseSelectStatus"),p=c("router-link"),k=c("BaseIcon");return r(),n("div",U,[e("div",j,[e("h3",D,s(o.$t("Ads")),1),d(_,{to:{name:"advertising_create"}},{default:h(()=>[u(s(o.$t("Create new advertising")),1)]),_:1})]),d(v,{class:"max-w-[240px] mb-base-2",onChange:i[0]||(i[0]=t=>g.filterAdvertisingsList()),modelValue:a.selectedStatus,"onUpdate:modelValue":i[1]||(i[1]=t=>a.selectedStatus=t),options:a.statusList,optionLabel:"name",optionValue:"value",placeholder:o.$t("Status")},null,8,["modelValue","options","placeholder"]),e("div",F,[e("table",T,[e("thead",z,[e("tr",null,[e("th",O,s(o.$t("Action")),1),e("th",q,s(o.$t("Ad")),1),e("th",G,s(o.$t("Views")),1),e("th",H,s(o.$t("Clicks")),1),e("th",J,s(o.$t("Total spent")),1)])]),e("tbody",null,[a.loadingAdvertising?(r(),n("tr",K,[e("td",Q,[d(w,{class:"mt-base-2"})])])):(r(),n(m,{key:1},[a.advertisementsList.length?(r(!0),n(m,{key:0},P(a.advertisementsList,t=>(r(),n("tr",{key:t.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b border-table-border-color dark:border-gray-700"},[e("td",R,[d(f,{modelValue:t.status,"onUpdate:modelValue":x=>t.status=x,item:t},null,8,["modelValue","onUpdate:modelValue","item"])]),e("td",W,[e("div",X,[e("div",null,[e("div",Y,[d(p,{to:{name:"advertising_detail",params:{id:t.id}},class:"text-main-color dark:text-white whitespace-normal"},{default:h(()=>[u(s(t.name),1)]),_:2},1032,["to"])]),e("div",Z,s(t.created_at),1)]),t.canEdit?(r(),M(p,{key:0,to:{name:"advertising_create",params:{id:t.id}},class:"border border-secondary-box-color text-main-color rounded-md p-2 dark:border-white/30 dark:text-white"},{default:h(()=>[d(k,{name:"pencil",size:"16"})]),_:2},1032,["to"])):b("",!0)])]),e("td",I,s(t.view_count),1),e("td",ee,s(t.click_count),1),e("td",te,s(t.total_delivery_amount),1)]))),128)):(r(),n("tr",se,[e("td",oe,s(o.$t("No Advertisings")),1)]))],64))])])]),a.loadmoreAdvertising?(r(),n("div",ae,[d(_,{onClick:i[2]||(i[2]=t=>g.getAdvertisingsList(a.selectedStatus,a.advertisementPage)),loading:a.loadingViewMore},{default:h(()=>[u(s(o.$t("View more")),1)]),_:1},8,["loading"])])):b("",!0)])}const ce=A(E,[["render",ie]]);export{ce as default};
