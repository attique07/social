import{_ as w,B as y,O as L,aN as k,Y as T,b1 as x,b2 as v,r as n,o as r,c as h,a as o,t as m,b as i,aH as I,b0 as K,g,w as c,d as B,e as l,F as P}from"../../assets/app-73d10358.js";import{H as E}from"./HashtagsList-49fe3ffd.js";var _=null;const N={components:{BaseIcon:y,HashtagsList:E,Loading:L,Error:k,InfiniteLoading:T},props:["tab","title"],data(){return{currentTab:this.tab?this.tab:"",hashtagKeyword:"",error:null,loadmoreStatus:!1,loadingSearchHashtags:!0,searchHashtags:[],currentPage:1}},mounted(){switch(this.currentTab){case"trending":this.getTrendingSearchHashtagsList(this.currentPage,this.hashtagKeyword);break;default:this.getSuggestSearchHashtagsList(this.currentPage,this.hashtagKeyword)}},methods:{findHashtag(){this.currentPage=1,clearTimeout(_),_=setTimeout(()=>{switch(this.currentTab){case"trending":this.getTrendingSearchHashtagsList(this.currentPage,this.hashtagKeyword);break;default:this.getSuggestSearchHashtagsList(this.currentPage,this.hashtagKeyword)}},400)},async getSuggestSearchHashtagsList(e,t){try{const s=await x(e,t);return e===1?this.searchHashtags=s.items:this.searchHashtags=window._.concat(this.searchHashtags,s.items),s.has_next_page?this.loadmoreStatus=!0:this.loadmoreStatus=!1,this.loadingSearchHashtags=!1,s}catch(s){this.error=s,this.loadingSearchHashtags=!1}},async getTrendingSearchHashtagsList(e,t){try{const s=await v(e,t);return e===1?this.searchHashtags=s.items:this.searchHashtags=window._.concat(this.searchHashtags,s.items),s.has_next_page?this.loadmoreStatus=!0:this.loadmoreStatus=!1,this.loadingSearchHashtags=!1,s}catch(s){this.error=s,this.loadingSearchHashtags=!1}},loadSearchHashtags(e){switch(this.currentTab){case"trending":this.getTrendingSearchHashtagsList(++this.currentPage,this.hashtagKeyword).then(t=>{t.has_next_page?(this.loadmoreStatus=!0,e.loaded()):(this.loadmoreStatus=!1,e.complete())});break;default:this.getSuggestSearchHashtagsList(++this.currentPage,this.hashtagKeyword).then(t=>{t.has_next_page?(this.loadmoreStatus=!0,e.loaded()):(this.loadmoreStatus=!1,e.complete())})}}}},V={class:"page-title mb-base-2"},C={class:"main-content-section bg-white border border-divider p-5 mb-base-2 rounded-base-lg dark:bg-slate-800 dark:border-slate-800"},D={class:"search-hashtag mb-3"},F={class:"relative"},z=["placeholder"],M={key:1},O={key:0};function U(e,t,s,Y,a,d){const f=n("BaseIcon"),u=n("Loading"),b=n("Error"),H=n("HashtagsList"),S=n("InfiniteLoading");return r(),h(P,null,[o("h1",V,m(a.currentTab==="suggest"?e.$t("Tags for you"):e.$t("Trending Tags")),1),o("div",C,[o("div",D,[o("div",F,[i(f,{name:"pencil",size:"16",class:"absolute top-3 start-2"}),I(o("input",{type:"text",onInput:t[0]||(t[0]=p=>d.findHashtag()),"onUpdate:modelValue":t[1]||(t[1]=p=>a.hashtagKeyword=p),placeholder:e.$t("Enter tags"),class:"w-full text-sm bg-input-background-color text-input-text-color border border-input-border-color rounded py-2 ps-8 pe-2 placeholder:text-input-placeholder-color outline-none appearance-none dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700 dark:placeholder:text-slate-300"},null,40,z),[[K,a.hashtagKeyword]])])]),a.loadingSearchHashtags?(r(),g(u,{key:0})):(r(),h("div",M,[a.searchHashtags.length>0?(r(),h("div",O,[a.error?(r(),g(b,{key:0},{default:c(()=>[B(m(a.error),1)]),_:1})):l("",!0),i(H,{hashtagsList:a.searchHashtags},null,8,["hashtagsList"]),a.loadmoreStatus?(r(),g(S,{key:1,onInfinite:d.loadSearchHashtags},{spinner:c(()=>[i(u)]),complete:c(()=>t[2]||(t[2]=[o("span",null,null,-1)])),_:1},8,["onInfinite"])):l("",!0)])):l("",!0)]))])],64)}const A=w(N,[["render",U]]);export{A as default};
