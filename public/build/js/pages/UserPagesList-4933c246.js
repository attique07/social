import{A as F,h as $,y as B,m as p,C as D,D as k,_ as S,u as C,k as b,r as n,o,c as a,F as v,v as y,a as i,b as c,E as N,w as d,d as u,t as l,e as _,g}from"../../assets/app-73d10358.js";const U={components:{Avatar:F,UserName:$,BaseButton:B},props:["pagesList"],data(){return{pagesListData:window._.clone(this.pagesList)}},computed:{...p(C,["authenticated"]),...p(b,["userAction"])},watch:{userAction(){this.pagesListData.map(e=>(e.id===this.userAction.pageId&&(this.userAction.status==="follow"?e.is_followed=!0:this.userAction.status==="unfollow"&&(e.is_followed=!1)),e))},pagesList(){this.pagesListData=window._.clone(this.pagesList)}},methods:{...D(b,["updateFollowStatus"]),async followPage(e){if(this.authenticated)try{await k({id:e.id,action:"follow"}),this.pagesListData.map(s=>(s.id===e.id&&(s.is_followed=!0),s)),this.updateFollowStatus({pageId:e.id,status:"follow"}),this.$emit("follow_page",e)}catch(s){this.showError(s.error)}else this.showRequireLogin()},async unFollowPage(e){try{await k({id:e.id,action:"unfollow"}),this.pagesListData.map(s=>(s.id===e.id&&(s.is_followed=!1),s)),this.updateFollowStatus({pageId:e.id,status:"unfollow"}),this.$emit("unfollow_page",e)}catch(s){this.showError(s.error)}}},emits:["follow_page","unfollow_page"]},P={key:0,class:"flex flex-wrap -mx-base-1"},E={class:"rounded-lg border border-divider dark:border-white/10 h-full"},V={class:"p-base-2"},q={class:"flex gap-4"},z={class:"flex-1 min-w-0"},R={class:"flex flex-wrap gap-2 items-center mb-1"},T={key:0,class:"text-xs mb-1 truncate text-sub-color dark:text-slate-400"},j={key:1,class:"text-xs text-sub-color dark:text-slate-400"},G={key:0,class:"mt-base-2"},H={key:1,class:"text-center"};function I(e,s,J,K,w,f){const h=n("router-link"),x=n("Avatar"),L=n("UserName"),m=n("BaseButton");return w.pagesListData.length?(o(),a("div",P,[(o(!0),a(v,null,y(w.pagesListData,t=>(o(),a("div",{key:t.id,class:"p-base-1 md:flex-[0_0_50%] md:max-w-1/2 w-full"},[i("div",E,[c(h,{to:{name:"profile",params:{user_name:t.user_name}},class:"block pb-[35%] bg-cover bg-center bg-no-repeat rounded-t-lg",style:N({backgroundImage:`url(${t.cover})`})},null,8,["to","style"]),i("div",V,[i("div",q,[c(x,{user:t,size:"3.25rem"},null,8,["user"]),i("div",z,[i("div",R,[c(L,{user:t},null,8,["user"])]),t.categories.length?(o(),a("div",T,[(o(!0),a(v,null,y(t.categories,(r,A)=>(o(),a("span",{key:r.id},[c(h,{to:{name:"user_pages",query:{category_id:r.id}},class:"text-inherit"},{default:d(()=>[u(l(r.name),1)]),_:2},1032,["to"]),u(" "+l(A===t.categories.length-1?"":" . "),1)]))),128))])):_("",!0),t.show_follower?(o(),a("div",j,l(e.$filters.numberShortener(t.follower_count,e.$t("[number] Follower"),e.$t("[number] Followers"))),1)):_("",!0)])]),t.can_follow?(o(),a("div",G,[t.is_followed?(o(),g(m,{key:0,onClick:r=>f.unFollowPage(t),type:"outlined",class:"w-full"},{default:d(()=>[u(l(e.$t("Unfollow")),1)]),_:2},1032,["onClick"])):(o(),g(m,{key:1,onClick:r=>f.followPage(t),type:"outlined",class:"w-full"},{default:d(()=>[u(l(e.$t("Follow")),1)]),_:2},1032,["onClick"]))])):_("",!0)])])]))),128))])):(o(),a("div",H,l(e.$t("No Pages")),1))}const O=S(U,[["render",I]]);export{O as U};
