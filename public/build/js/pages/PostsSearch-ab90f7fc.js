import{O as L,Y as P,m as f,a8 as p,C as q,_ as b,r as n,o as t,g as r,c as o,b as l,w as d,F as k,v as S,a2 as v,a as m,e as w,t as D}from"../../assets/app-73d10358.js";import{P as I}from"./PostListsItem-021b25db.js";import"./PostDetailModal-38c76a2f.js";import"./CommentsList-b62f7880.js";const $={components:{PostListsItem:I,Loading:L,InfiniteLoading:P},props:["search_type","type","query"],data(){return{queryData:this.query,loadmore_status:!1,currentPage:1}},computed:{...f(p,["postsList","loadingPostsList"])},mounted(){this.loadSearchPostsList(this.search_type,this.queryData,this.type,this.currentPage)},watch:{$route(){this.queryData=window._.isNil(this.$route.query.q)?"":this.$route.query.q,this.currentPage=1,this.queryData&&this.loadSearchPostsList(this.search_type,this.queryData,this.type,this.currentPage)}},unmounted(){this.unsetPostsList()},methods:{...q(p,["getSearchPostsList","unsetPostsList"]),loadSearchPostsList(s,e,u,h){this.getSearchPostsList({search_type:s,query:e,type:u,page:h}).then(a=>{a.length===0?this.loadmore_status=!1:(this.loadmore_status=!0,this.currentPage++)})}}},N={key:1},B={key:0,class:"pb-5"},C={key:1,class:"widget-box bg-white p-base-2 text-center rounded-none mb-base-2 md:rounded-base-lg dark:bg-slate-800"},x={class:"text-base-sm"};function V(s,e,u,h,a,_){const c=n("Loading"),g=n("PostListsItem"),y=n("InfiniteLoading");return s.loadingPostsList?(t(),r(c,{key:0})):(t(),o("div",N,[s.postsList.length>0?(t(),o("div",B,[l(v,{name:"fade"},{default:d(()=>[(t(!0),o(k,null,S(s.postsList,i=>(t(),r(g,{key:i.id,post:i},null,8,["post"]))),128))]),_:1}),a.loadmore_status?(t(),r(y,{key:0,onInfinite:e[0]||(e[0]=i=>_.loadSearchPostsList(this.search_type,this.queryData,this.type,this.currentPage))},{spinner:d(()=>[l(c)]),complete:d(()=>e[1]||(e[1]=[m("span",null,null,-1)])),_:1})):w("",!0)])):(t(),o("div",C,[m("div",x,D(s.$t("No posts found")),1)]))]))}const O=b($,[["render",V]]);export{O as default};
